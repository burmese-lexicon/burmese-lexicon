(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return p});var r=n(37),o=n(81),i=n(80),s=n(12),u=n(193),c=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(e,n,r,o){return new(r||(r=t))(function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,u)}c((o=o.apply(e,n||[])).next())})},l=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},p=function(){function t(t,e,n){this.httpClient=t,this.usersApi=e,this.dbService=n}return t.prototype.getTopContributions=function(){return f(this,void 0,void 0,function(){var t,e,n=this;return l(this,function(o){switch(o.label){case 0:return[4,this.dbService.getAll(r.a.CONTRIBUTIONS,{orderBy:["score","desc"],limit:100})];case 1:return t=o.sent(),e=[],t.forEach(function(t){return f(n,void 0,void 0,function(){var n;return l(this,function(r){return n=t.data(),e.push({user:n.name,photoURL:n.photoURL,score:n.score,definitions:n.definitions,votes:n.votes}),[2]})})}),[2,e]}})})},t.prototype.getStats=function(){return f(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.dbService.get(r.a.STATS,"stats")];case 1:return[2,t.sent().data()]}})})},t=c([s.d,a("design:paramtypes",[u.a,i.a,o.a])],t)}()}).call(this,n(11))},193:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var o=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:i})},t}();function i(t){if(!t.ok)throw t;return t}var s=function(){function e(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}return e.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":r(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");(e=new o).baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var n=t(e);o.prototype.isPrototypeOf(n)&&(e=n)}var i=e.defaults;if(i&&Headers.prototype.isPrototypeOf(i.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=i,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},e.prototype.fetch=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e,n){var r=this;(function(){this.isRequesting=!!++this.activeRequestCount}).call(this);var o=t.resolve().then(function(){return function(t,e){var n=this.defaults||{},r=void 0,o=void 0,i=void 0,s=function(t){var e={};for(var n in t||{})t.hasOwnProperty(n)&&(e[n]="function"==typeof t[n]?t[n]():t[n]);return e}(n.headers);if(Request.prototype.isPrototypeOf(t))r=t,i=new Headers(r.headers).get("Content-Type");else{e||(e={});var c=(o=e.body)?{body:o}:null,a=Object.assign({},n,{headers:{}},e,c);i=new Headers(a.headers).get("Content-Type"),r=new Request(function(t,e){if(u.test(e))return e;return(t||"")+e}(this.baseUrl,t),a)}i||(new Headers(s).has("content-type")?r.headers.set("Content-Type",new Headers(s).get("content-type")):o&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(o)&&r.headers.set("Content-Type","application/json"));(function(t,e){for(var n in e||{})e.hasOwnProperty(n)&&!t.has(n)&&t.set(n,e[n])})(r.headers,s),o&&Blob.prototype.isPrototypeOf(o)&&o.type&&r.headers.set("Content-Type",o.type);return r}.call(r,e,n,r.defaults)}),i=function(t,e){return c(t,e,"request","requestError")}(o,this.interceptors).then(function(e){var n=null;if(Response.prototype.isPrototypeOf(e))n=e;else{if(!Request.prototype.isPrototypeOf(e))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]");o=t.resolve(e),n=fetch(e)}return o.then(function(t){return function(t,e,n){return c(t,e,"response","responseError",n)}(n,r.interceptors,t)})});return function(t){var e=function(){this.isRequesting=!!--this.activeRequestCount}.bind(this);return t.then(e,e),t}.call(this,i)}),e}(),u=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function c(e,n,r,o){for(var i=arguments.length,s=Array(i>4?i-4:0),u=4;u<i;u++)s[u-4]=arguments[u];return(n||[]).reduce(function(t,e){var n=e[r],i=e[o];return t.then(n&&function(t){return n.call.apply(n,[e,t].concat(s))}||a,i&&function(t){return i.call.apply(i,[e,t].concat(s))}||f)},t.resolve(e))}function a(t){return t}function f(t){throw t}}).call(this,n(11))},"resources/elements/contributors-page":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ContributorsPage",function(){return l});var r=n(68),o=n("aurelia-framework"),i=n(121),s=n(50),u=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(e,n,r,o){return new(r||(r=t))(function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,u)}c((o=o.apply(e,n||[])).next())})},f=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},l=function(){function t(t,e,n){this.contributionsApi=t,this.ps=e,this.ss=n,this.loading=!0,this.contributions=[]}return t.prototype.created=function(){return a(this,void 0,void 0,function(){var t,e;return f(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),t=this,[4,this.contributionsApi.getTopContributions()];case 1:return t.contributions=n.sent(),this.ss.setSocialTags({title:"အများဆုံး အနက်ဖွင့်သူများ",description:this.contributions.map(function(t){return t.user}).join("၊ "),url:window.location.href}),this.ps.setPrerenderReady(),[3,4];case 2:return e=n.sent(),console.error(e),console.error("loading contributions failed"),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}})})},t=u([o.b,c("design:paramtypes",[i.a,r.a,s.a])],t)}()}.call(this,n(11))},"resources/elements/contributors-page.html":function(t,e,n){t.exports="<template>\n  <require from='./contributors-page.scss'></require>\n\n  <div class='ui forteen wide column centered'>\n    <h1>Top contributors</h1>\n    <div if.bind='loading' class=\"ui active inverted dimmer\">\n      <div class=\"ui loader\"></div>\n    </div>\n    <table class=\"ui fixed inverted table\" else>\n      <thead>\n        <tr>\n          <th>Contributor</th>\n          <th>Points</th>\n          <th># Definitions</th>\n          <th># Votes</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr repeat.for='contribution of contributions'>\n          <td>\n            <img if.bind='contribution.photoURL' class=\"ui avatar image\" src=\"${contribution.photoURL}\">\n            <span class='username'>${contribution.user}</span>\n          </td>\n          <td>\n            ${contribution.score}\n          </td>\n          <td>\n            ${contribution.definitions}\n          </td>  \n          <td>\n            ${contribution.votes || 0}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n"},"resources/elements/contributors-page.scss":function(t,e,n){(t.exports=n(44)(!1)).push([t.i,".contributors-page h1 {\n  text-align: center; }\n\n.contributors-page .username {\n  font-weight: bold; }\n",""])}}]);
//# sourceMappingURL=contributors.8595753560fd636052b8.bundle.map