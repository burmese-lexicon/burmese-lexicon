(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{117:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h});var r=n(43),o=n(78),i=n(92),s=n(12),u=n(191),c=n(190),a=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(e,n,r,o){return new(r||(r=t))(function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,u)}c((o=o.apply(e,n||[])).next())})},p=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},h=function(){function t(t,e,n){this.httpClient=t,this.usersApi=e,this.dbService=n}return t.prototype.getTopContributions=function(){return l(this,void 0,void 0,function(){var t,e,n,r,o,i,s,u,a;return p(this,function(f){switch(f.label){case 0:return[4,this.httpClient.fetch(c.a.GET_TOP_CONTRIBUTIONS)];case 1:return[4,f.sent().json()];case 2:t=f.sent(),e=[],n=0,r=t,f.label=3;case 3:return n<r.length?(o=r[n],[4,this.usersApi.getPublicUserInfo(o.user)]):[3,6];case 4:i=f.sent(),s=i.data(),u=s.name,a=s.photoURL,e.push({user:u,photoURL:a,score:o.score,definitions:o.definitions,votes:o.votes}),f.label=5;case 5:return n++,[3,3];case 6:return[2,e]}})})},t.prototype.getStats=function(){return l(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.dbService.get(r.a.STATS,"stats")];case 1:return[2,t.sent().data()]}})})},t=a([s.d,f("design:paramtypes",[u.a,i.a,o.a])],t)}()}).call(this,n(11))},190:function(t,e,n){"use strict";e.a={GET_TOP_CONTRIBUTIONS:"https://us-central1-burmese-lexicon.cloudfunctions.net/api/getTopContributions"}},191:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var o=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:i})},t}();function i(t){if(!t.ok)throw t;return t}var s=function(){function e(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}return e.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":r(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");(e=new o).baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var n=t(e);o.prototype.isPrototypeOf(n)&&(e=n)}var i=e.defaults;if(i&&Headers.prototype.isPrototypeOf(i.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=i,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},e.prototype.fetch=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e,n){var r=this;(function(){this.isRequesting=!!++this.activeRequestCount}).call(this);var o=t.resolve().then(function(){return function(t,e){var n=this.defaults||{},r=void 0,o=void 0,i=void 0,s=function(t){var e={};for(var n in t||{})t.hasOwnProperty(n)&&(e[n]="function"==typeof t[n]?t[n]():t[n]);return e}(n.headers);if(Request.prototype.isPrototypeOf(t))r=t,i=new Headers(r.headers).get("Content-Type");else{e||(e={});var c=(o=e.body)?{body:o}:null,a=Object.assign({},n,{headers:{}},e,c);i=new Headers(a.headers).get("Content-Type"),r=new Request(function(t,e){if(u.test(e))return e;return(t||"")+e}(this.baseUrl,t),a)}i||(new Headers(s).has("content-type")?r.headers.set("Content-Type",new Headers(s).get("content-type")):o&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(o)&&r.headers.set("Content-Type","application/json"));(function(t,e){for(var n in e||{})e.hasOwnProperty(n)&&!t.has(n)&&t.set(n,e[n])})(r.headers,s),o&&Blob.prototype.isPrototypeOf(o)&&o.type&&r.headers.set("Content-Type",o.type);return r}.call(r,e,n,r.defaults)}),i=function(t,e){return c(t,e,"request","requestError")}(o,this.interceptors).then(function(e){var n=null;if(Response.prototype.isPrototypeOf(e))n=e;else{if(!Request.prototype.isPrototypeOf(e))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]");o=t.resolve(e),n=fetch(e)}return o.then(function(t){return function(t,e,n){return c(t,e,"response","responseError",n)}(n,r.interceptors,t)})});return function(t){var e=function(){this.isRequesting=!!--this.activeRequestCount}.bind(this);return t.then(e,e),t}.call(this,i)}),e}(),u=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function c(e,n,r,o){for(var i=arguments.length,s=Array(i>4?i-4:0),u=4;u<i;u++)s[u-4]=arguments[u];return(n||[]).reduce(function(t,e){var n=e[r],i=e[o];return t.then(n&&function(t){return n.call.apply(n,[e,t].concat(s))}||a,i&&function(t){return i.call.apply(i,[e,t].concat(s))}||f)},t.resolve(e))}function a(t){return t}function f(t){throw t}}).call(this,n(11))},"resources/elements/contributors-page":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ContributorsPage",function(){return a});var r=n("aurelia-framework"),o=n(117),i=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(e,n,r,o){return new(r||(r=t))(function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,u)}c((o=o.apply(e,n||[])).next())})},c=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=function(){function t(t){this.contributionsApi=t,this.loading=!0,this.contributions=[]}return t.prototype.created=function(){return u(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),t=this,[4,this.contributionsApi.getTopContributions()];case 1:return t.contributions=n.sent(),[3,4];case 2:return e=n.sent(),console.error(e),console.error("loading contributions failed"),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}})})},t=i([r.b,s("design:paramtypes",[o.a])],t)}()}.call(this,n(11))},"resources/elements/contributors-page.html":function(t,e,n){t.exports='<template> <require from=./contributors-page.scss></require> <div class="ui eight wide column centered"> <h1>Top contributors</h1> <div if.bind=loading class="ui active inverted dimmer"> <div class="ui loader"></div> </div> <table class="ui fixed inverted table" else> <thead> <tr> <th>Contributor</th> <th>Points</th> <th># Definitions</th> <th># Votes</th> </tr> </thead> <tbody> <tr repeat.for="contribution of contributions"> <td> <img if.bind=contribution.photoURL class="ui avatar image" src=${contribution.photoURL}> <span class=username>${contribution.user}</span> </td> <td> ${contribution.score} </td> <td> ${contribution.definitions} </td> <td> ${contribution.votes || 0} </td> </tr> </tbody> </table> </div> </template> '},"resources/elements/contributors-page.scss":function(t,e,n){(t.exports=n(53)(!1)).push([t.i,".contributors-page h1{text-align:center}.contributors-page .username{font-weight:700}",""])}}]);
//# sourceMappingURL=contributors.2e30bad0b2a28d8a2605.bundle.map