(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{117:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h});var r=n(43),i=n(78),o=n(92),s=n(12),a=n(191),u=n(190),c=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(e,n,r,i){return new(r||(r=t))(function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,n||[])).next())})},p=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=function(){function t(t,e,n){this.httpClient=t,this.usersApi=e,this.dbService=n}return t.prototype.getTopContributions=function(){return f(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,c;return p(this,function(l){switch(l.label){case 0:return[4,this.httpClient.fetch(u.a.GET_TOP_CONTRIBUTIONS)];case 1:return[4,l.sent().json()];case 2:t=l.sent(),e=[],n=0,r=t,l.label=3;case 3:return n<r.length?(i=r[n],[4,this.usersApi.getPublicUserInfo(i.user)]):[3,6];case 4:o=l.sent(),s=o.data(),a=s.name,c=s.photoURL,e.push({user:a,photoURL:c,score:i.score,definitions:i.definitions,votes:i.votes}),l.label=5;case 5:return n++,[3,3];case 6:return[2,e]}})})},t.prototype.getStats=function(){return f(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,this.dbService.get(r.a.STATS,"stats")];case 1:return[2,t.sent().data()]}})})},t=c([s.d,l("design:paramtypes",[a.a,o.a,i.a])],t)}()}).call(this,n(11))},190:function(t,e,n){"use strict";e.a={GET_TOP_CONTRIBUTIONS:"https://us-central1-burmese-lexicon.cloudfunctions.net/api/getTopContributions"}},191:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var i=function(){function t(){this.baseUrl="",this.defaults={},this.interceptors=[]}return t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withDefaults=function(t){return this.defaults=t,this},t.prototype.withInterceptor=function(t){return this.interceptors.push(t),this},t.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},t.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:o})},t}();function o(t){if(!t.ok)throw t;return t}var s=function(){function e(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}return e.prototype.configure=function(t){var e=void 0;if("object"===(void 0===t?"undefined":r(t)))e={defaults:t};else{if("function"!=typeof t)throw new Error("invalid config");(e=new i).baseUrl=this.baseUrl,e.defaults=Object.assign({},this.defaults),e.interceptors=this.interceptors;var n=t(e);i.prototype.isPrototypeOf(n)&&(e=n)}var o=e.defaults;if(o&&Headers.prototype.isPrototypeOf(o.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=e.baseUrl,this.defaults=o,this.interceptors=e.interceptors||[],this.isConfigured=!0,this},e.prototype.fetch=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e,n){var r=this;(function(){this.isRequesting=!!++this.activeRequestCount}).call(this);var i=t.resolve().then(function(){return function(t,e){var n=this.defaults||{},r=void 0,i=void 0,o=void 0,s=function(t){var e={};for(var n in t||{})t.hasOwnProperty(n)&&(e[n]="function"==typeof t[n]?t[n]():t[n]);return e}(n.headers);if(Request.prototype.isPrototypeOf(t))r=t,o=new Headers(r.headers).get("Content-Type");else{e||(e={});var u=(i=e.body)?{body:i}:null,c=Object.assign({},n,{headers:{}},e,u);o=new Headers(c.headers).get("Content-Type"),r=new Request(function(t,e){if(a.test(e))return e;return(t||"")+e}(this.baseUrl,t),c)}o||(new Headers(s).has("content-type")?r.headers.set("Content-Type",new Headers(s).get("content-type")):i&&function(t){try{JSON.parse(t)}catch(t){return!1}return!0}(i)&&r.headers.set("Content-Type","application/json"));(function(t,e){for(var n in e||{})e.hasOwnProperty(n)&&!t.has(n)&&t.set(n,e[n])})(r.headers,s),i&&Blob.prototype.isPrototypeOf(i)&&i.type&&r.headers.set("Content-Type",i.type);return r}.call(r,e,n,r.defaults)}),o=function(t,e){return u(t,e,"request","requestError")}(i,this.interceptors).then(function(e){var n=null;if(Response.prototype.isPrototypeOf(e))n=e;else{if(!Request.prototype.isPrototypeOf(e))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]");i=t.resolve(e),n=fetch(e)}return i.then(function(t){return function(t,e,n){return u(t,e,"response","responseError",n)}(n,r.interceptors,t)})});return function(t){var e=function(){this.isRequesting=!!--this.activeRequestCount}.bind(this);return t.then(e,e),t}.call(this,o)}),e}(),a=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function u(e,n,r,i){for(var o=arguments.length,s=Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];return(n||[]).reduce(function(t,e){var n=e[r],o=e[i];return t.then(n&&function(t){return n.call.apply(n,[e,t].concat(s))}||c,o&&function(t){return o.call.apply(o,[e,t].concat(s))}||l)},t.resolve(e))}function c(t){return t}function l(t){throw t}}).call(this,n(11))},"resources/elements/home-page":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"HomePage",function(){return c});var r=n(117),i=n("aurelia-framework"),o=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(e,n,r,i){return new(r||(r=t))(function(t,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){e.done?t(e.value):new r(function(t){t(e.value)}).then(s,a)}u((i=i.apply(e,n||[])).next())})},u=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(){function t(t){this.contributionsApi=t,this.loading=!0}return t.prototype.created=function(){return a(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),t=this,[4,this.contributionsApi.getStats()];case 1:return t.stats=n.sent(),[3,4];case 2:return e=n.sent(),this.error=!0,console.error(e),[3,4];case 3:return this.loading=!1,[7];case 4:return[2]}})})},t=o([i.b,s("design:paramtypes",[r.a])],t)}()}.call(this,n(11))},"resources/elements/home-page.html":function(t,e,n){t.exports='<template> <require from=./home-page.scss></require> <require from=./word-search></require> <h1>Burmese Lexicon</h1> <word-search></word-search> <div class="ui statistics"> <div if.bind=loading class="ui active inverted dimmer"> <div class="ui loader"></div> </div> <div class="ui negative message" if.bind=error> There was an error loading the stats. </div> <div class=statistic else> <div class=value> <i class="language icon"></i>${stats.words} </div> <div class=label> Words </div> </div> <div class=statistic> <div class=value> <i class="pencil alternate icon"></i>${stats.definitions} </div> <div class=label> Definitions </div> </div> <div class=statistic> <div class=value> <i class="users icon"></i>${stats.contributors} </div> <div class=label> Contributors </div> </div> </div> </template> '},"resources/elements/home-page.scss":function(t,e,n){(t.exports=n(53)(!1)).push([t.i,".home-page.ui.grid{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-page.ui.grid h1{font-size:2em}.home-page.ui.grid word-search input{width:20em}.home-page.ui.grid .statistics{margin-top:5em;justify-content:center}.home-page.ui.grid .negative.message{width:100%}",""])}}]);
//# sourceMappingURL=home.2a905dfc9da408d03cd2.bundle.map